<!DOCTYPE html>
<html lang="ru" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{default}">

<head>
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <main layout:fragment="content">
        <th:block th:switch="${apartments.size()}">
            <h2 th:case="0">–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</h2>
            <th:block th:case="*">
                <h2 class="text-center">–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã</h2>
                <div class="mb-3">
                    <form method="get" class="row">
                        <div class="col-sm-5 mb-3">
                            <select th:name="typeId" id="typeId" class="form-select">
                                <option selected value="">–§–∏–ª—å—Ç—Ä –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–Ω–∞—Ç</option>
                                <option th:each="type : ${types}" th:value="${type.id}"
                                    th:selected="${type.id==typeId}">
                                    [[${type.name}]]
                                </option>
                            </select>
                        </div>
                        <div class="col-sm-5 mb-3">
                            <select th:name="geolocationId" id="geolocationId" class="form-select">
                                <option selected value="">–§–∏–ª—å—Ç—Ä –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏</option>
                                <option th:each="geolocation : ${geolocations}" th:value="${geolocation.id}"
                                    th:selected="${geolocation.id==geolocationId}">
                                    [[${geolocation.name}]]
                                </option>
                            </select>
                        </div>
                        <input type="hidden" th:name="page" th:value="${page}">
                        <div class="col-sm-2 mb-3">
                            <button type="submit" class="btn btn-primary">–ü–æ–∫–∞–∑–∞—Ç—å</button>
                        </div>
                    </form>
                </div>
                <div class="row container-custom justify-content-center">
                    <div th:each="apartment : ${apartments}" class="col-md-3">
                        <div class="card card-custom">
                            <img src="https://images.unsplash.com/photo-1460317442991-0ec209397118?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                                class="card-img-top" alt="IMAGE">
                            <div class="card-body card-body-custom">
                                <h4 class="card-title" th:text="${apartment.name}"></h4>
                                <h5 th:text="${apartment.geolocationName}"></h5><br>
                                <h6 class="card-subtitle mb-2 text-muted" th:text="${apartment.typeName}"></h6>
                                <p class="card-text">
                                    <strong>–¶–µ–Ω–∞:</strong> <span th:text="${apartment.price}"></span><br>
                                    <span th:text="${apartment.description}"></span><br>
                                </p>
                                <div class="inline-items">
                                    <p><strong>–î—É—à–µ–≤–∞—è:</strong> <span
                                            th:text="${apartment.shower} ? '‚úÖ' : 'üö´'"></span></p>
                                    <p><strong>üÖøÔ∏è</strong> <span th:text="${apartment.park}"></span></p>
                                    <div th:if="${apartment.popular} == true" class="popularity-icon">
                                        <span th:text="'üî•'"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form
                            th:action="@{/apartment/comment/edit/add/{apartmentId}(apartmentId=${apartment.id}, page=${page})}"
                            method="get">
                            <button type="submit" class="btn btn-dark">+üí¨</button>
                        </form>
                    </div>
                </div>
            </th:block>
        </th:block>
        <th:block th:replace="~{ pagination :: pagination (
                                url=@{${url}},
                                totalPages=${totalPages},
                                currentPage=${currentPage}) }" />
        </th:block>
    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>